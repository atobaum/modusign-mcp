# ROADMAP

이 문서는 `modusign-mcp`의 다음 단계 개선 아이디어를 정리한 브레인스토밍 로드맵입니다.
(작성일: 2026-02-24)

## 방향

- MCP 클라이언트에서 "업무 단위"로 바로 쓸 수 있는 도구 제공
- 실패/재시도/관측성 강화로 운영 안정성 확보
- 대량 처리, 자동화, 검증 중심으로 실사용 생산성 향상

## P0 (단기: 바로 가치가 큰 항목)

- [ ] `document_download_files` 도구 추가
완료 문서 PDF, 감사증명서(audit trail), 첨부파일을 내려받을 수 있는 URL/바이너리 응답 지원.

- [ ] `document_wait_until_status` 도구 추가
문서가 `COMPLETED`/`ABORTED` 등 목표 상태가 될 때까지 폴링해서 워크플로우 단순화.

- [ ] `document_create_from_template_by_name` 도구 추가
템플릿 ID를 몰라도 이름/키워드로 검색 후 자동 매핑까지 수행하는 고수준 도구.

- [ ] `document_validate_payload` 도구 추가
실제 생성 전에 참여자/역할/필수 입력값/SECURE_LINK 제약을 사전 검증하는 dry-run.

- [ ] `document_bulk_remind` / `document_bulk_cancel` 도구 추가
여러 문서를 rate-limit 친화적으로 묶어 처리(부분 실패 리포트 포함).

- [ ] 자동 페이지네이션 옵션(`all=true`) 지원
`document_list`, `template_list`, `label_list`, `webhook_list`에서 전체 페이지 자동 수집.

## P1 (중기: 운영성/확장성 강화)

- [ ] 웹훅 서명 검증 유틸리티 추가
웹훅 시그니처 검증 helper와 예제 제공으로 안전한 이벤트 소비 지원.

- [ ] 웹훅 이벤트 테스트 도구 추가
테스트 이벤트 발행 또는 payload 리플레이(가능 범위 내)로 통합 테스트 단축.

- [ ] 재시도 정책 고도화
429 외 일시적 5xx/네트워크 에러에 대한 지수 백오프 + jitter + 최대 대기시간 정책.

- [ ] 멱등성(idempotency) 지원
생성/수정 계열 요청에 idempotency key 전달 옵션을 제공해 중복 실행 방지.

- [ ] 구조화 로깅/추적 ID
요청 단위 `requestId`, API 응답 코드, 재시도 횟수를 구조화 로그로 남겨 장애 분석 개선.

- [ ] 에러 메시지 표준화
모든 tool 응답에 `errorCode`, `hint`, `recoverable` 필드를 포함하는 공통 에러 포맷 도입.

- [ ] 권한/플랜 인식 가드
`user_get_subscription` 결과를 참고해 플랜 제한이 걸리는 요청에 선제 안내.

## P2 (중장기: 고급 사용자/팀 워크플로우)

- [ ] 워크플로우 컴포지트 도구 추가
예: "파일 업로드 → 템플릿 적용 → 발송 → 상태 대기"를 1회 호출로 수행.

- [ ] 문서/템플릿 버전 관리 보조
메타데이터 기반 버전 태깅, 최신 버전 자동 선택, 배포 규칙(예: `prod` 라벨) 지원.

- [ ] 조직 표준 정책 엔진
서명 순서, 참여자 최소 수, 메타데이터 필수 키 등 조직 규칙을 선언적으로 검사.

- [ ] 감사/컴플라이언스 리포트 도구
기간별 완료율, 지연 문서, 취소 사유, 참여자 채널 통계 리포트 생성.

- [ ] 다국어 응답 모드
도구 설명/에러/hint를 `ko/en` 선택적으로 반환해 글로벌 팀 사용성 개선.

## 개발자 경험(DX) 개선

- [ ] 테스트 체계 도입
단위 테스트(`ModusignClient`, 스키마), 스냅샷 테스트(tool schema), 통합 테스트(모킹) 추가.

- [ ] 샘플 MCP 프롬프트 컬렉션 제공
Claude/Codex/n8n에서 바로 복붙 가능한 실전 프롬프트 모음 제공.

- [ ] `.mcp.json` 템플릿 확장
로컬/스테이징/프로덕션 환경별 설정 예시와 보안 권장사항 포함.

- [ ] 릴리즈 자동화
변경 로그 생성, 버전 태깅, npm publish 체크리스트 자동화.

## 운영 지표 (성공 기준 제안)

- 문서 생성 성공률, 실패 유형 비율(4xx/5xx/validation)
- 평균 요청 지연시간 및 95p 지연시간
- 재시도 발생률과 최종 실패율
- 대량 작업(batch) 처리 시간 대비 성공률
- 헬스체크 실패 감지부터 복구까지 평균 시간(MTTR)

## 메모

- API 문서에 없는 항목은 구현 전 실제 엔드포인트/권한/요청 스키마를 재검증.
- 고수준(컴포지트) 도구는 low-level 도구를 유지한 상태에서 선택적으로 추가.
- 우선순위는 실제 사용자 호출 로그/지원 이슈를 바탕으로 분기마다 재정렬.
